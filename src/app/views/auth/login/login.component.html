<shared-auth-layout authTitle="Inicio de sesión">
  <!-- Formulario de inicio de sesion -->
  <form
    [formGroup]="myForm"
    (ngSubmit)="onSubmit()"
    class="min-w-[150px] max-w-[500px] w-full space-y-5"
  >
    <mat-form-field class="w-full">
      <mat-label>Correo electrónico</mat-label>
      <input
        type="email"
        matInput
        placeholder="Ej. correo@google.com"
        formControlName="correoElectronico"
      />
      <mat-hint>Los errores aparecen instantáneamente!</mat-hint>
      @if (hasError('correoElectronico', 'email')) {
      <mat-error>
        Por favor, introduzca una dirección de correo electrónico válida
      </mat-error>
      } @if (hasError('correoElectronico', 'required')) {
      <mat-error>
        El correo electrónico es <strong>requerido</strong>
      </mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Contraseña</mat-label>
      <input
        [type]="hidePassword ? 'password' : 'text'"
        matInput
        placeholder="Ej. 123456"
        formControlName="contraseña"
      />
      <button
        mat-icon-button
        matSuffix
        type="button"
        (click)="togglePasswordVisibility()"
      >
        <mat-icon>{{
          hidePassword ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
      <mat-hint>Los errores aparecen instantáneamente!</mat-hint>
      @if (hasError('contraseña', 'minlength')) {
      <mat-error> La contraseña debe tener al menos 6 caracteres </mat-error>
      } @if (hasError('contraseña', 'required')) {
      <mat-error> La contraseña es <strong>requerida</strong> </mat-error>
      }
    </mat-form-field>

    <div class="w-full text-end">
      <a
        [routerLink]="['/auth/register']"
        class="underline italic cursor-pointer hover:text-[#33a7a7]"
      >
        Crear una nueva cuenta
      </a>
    </div>

    <mat-card-actions class="flex items-center justify-center">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="myForm.invalid"
      >
        Iniciar Sesión
      </button>
    </mat-card-actions>
  </form>
</shared-auth-layout>
